{"ast":null,"code":"window.toggleModal = function (modalClass) {\n  var modalIdentifier = \"[data-modal-class=\".concat(modalClass, \"]\");\n  var body = document.querySelector(\"body\");\n  var modal = document.querySelector(modalIdentifier);\n  modal.classList.toggle(\"opacity-0\");\n  modal.classList.toggle(\"pointer-events-none\");\n  body.classList.toggle(\"modal-active\");\n};\n\nwindow.closeAllModal = function () {\n  document.body.classList.remove(\"modal-active\");\n  document.querySelectorAll(\".modal\").forEach(function (modal) {\n    if (!modal.classList.contains(\"opacity-0\")) {\n      modal.classList.add(\"opacity-0\");\n      modal.classList.add(\"pointer-events-none\");\n    }\n  });\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  document.addEventListener(\"click\", function (e) {\n    if (e.target) {\n      var classes = e.target.classList;\n      var modalElm = e.target.closest(\"[data-modal-class]\");\n\n      if (!modalElm) {\n        return;\n      }\n\n      var modalClass = modalElm.getAttribute(\"data-modal-class\");\n\n      if (classes.contains(\"js-modal-overlay\")) {\n        e.preventDefault();\n        window.toggleModal(modalClass);\n      } else if (e.target.parentElement) {\n        var parentClasses = e.target.parentElement.classList;\n\n        if (parentClasses.contains(\"js-modal-close\")) {\n          e.preventDefault();\n          window.toggleModal(modalClass);\n        } else if (parentClasses.contains(\"js-modal-open\")) {\n          e.preventDefault();\n          window.closeAllModal();\n          window.toggleModal(modalClass);\n        }\n      }\n    }\n  });\n  document.addEventListener(\"keydown\", function (evt) {\n    evt = evt || window.event;\n    var key = evt.key || evt.keyCode;\n\n    if (key === \"Escape\" || key === \"Esc\" || key === 27) {\n      window.closeAllModal();\n    }\n  });\n});","map":{"version":3,"sources":["/home/shaher/Microverse/vivid/app/javascript/packs/modal.js"],"names":["window","toggleModal","modalClass","modalIdentifier","body","document","querySelector","modal","classList","toggle","closeAllModal","remove","querySelectorAll","forEach","contains","add","addEventListener","e","target","classes","modalElm","closest","getAttribute","preventDefault","parentElement","parentClasses","evt","event","key","keyCode"],"mappings":"AAAAA,MAAM,CAACC,WAAP,GAAqB,UAACC,UAAD,EAAgB;AACnC,MAAMC,eAAe,+BAAwBD,UAAxB,MAArB;AACA,MAAME,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb;AACA,MAAMC,KAAK,GAAGF,QAAQ,CAACC,aAAT,CAAuBH,eAAvB,CAAd;AACAI,EAAAA,KAAK,CAACC,SAAN,CAAgBC,MAAhB,CAAuB,WAAvB;AACAF,EAAAA,KAAK,CAACC,SAAN,CAAgBC,MAAhB,CAAuB,qBAAvB;AACAL,EAAAA,IAAI,CAACI,SAAL,CAAeC,MAAf,CAAsB,cAAtB;AACD,CAPD;;AAQAT,MAAM,CAACU,aAAP,GAAuB,YAAM;AAC3BL,EAAAA,QAAQ,CAACD,IAAT,CAAcI,SAAd,CAAwBG,MAAxB,CAA+B,cAA/B;AACAN,EAAAA,QAAQ,CAACO,gBAAT,CAA0B,QAA1B,EAAoCC,OAApC,CAA4C,UAACN,KAAD,EAAW;AACrD,QAAI,CAACA,KAAK,CAACC,SAAN,CAAgBM,QAAhB,CAAyB,WAAzB,CAAL,EAA4C;AAC1CP,MAAAA,KAAK,CAACC,SAAN,CAAgBO,GAAhB,CAAoB,WAApB;AACAR,MAAAA,KAAK,CAACC,SAAN,CAAgBO,GAAhB,CAAoB,qBAApB;AACD;AACF,GALD;AAMD,CARD;;AASAV,QAAQ,CAACW,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClDX,EAAAA,QAAQ,CAACW,gBAAT,CAA0B,OAA1B,EAAmC,UAACC,CAAD,EAAO;AACxC,QAAIA,CAAC,CAACC,MAAN,EAAc;AACZ,UAAIC,OAAO,GAAGF,CAAC,CAACC,MAAF,CAASV,SAAvB;AACA,UAAMY,QAAQ,GAAGH,CAAC,CAACC,MAAF,CAASG,OAAT,CAAiB,oBAAjB,CAAjB;;AACA,UAAI,CAACD,QAAL,EAAe;AAAE;AAAQ;;AACzB,UAAMlB,UAAU,GAAGkB,QAAQ,CAACE,YAAT,CAAsB,kBAAtB,CAAnB;;AACA,UAAIH,OAAO,CAACL,QAAR,CAAiB,kBAAjB,CAAJ,EAA0C;AACxCG,QAAAA,CAAC,CAACM,cAAF;AACAvB,QAAAA,MAAM,CAACC,WAAP,CAAmBC,UAAnB;AACD,OAHD,MAGO,IAAIe,CAAC,CAACC,MAAF,CAASM,aAAb,EAA4B;AACjC,YAAIC,aAAa,GAAGR,CAAC,CAACC,MAAF,CAASM,aAAT,CAAuBhB,SAA3C;;AACA,YAAIiB,aAAa,CAACX,QAAd,CAAuB,gBAAvB,CAAJ,EAA8C;AAC5CG,UAAAA,CAAC,CAACM,cAAF;AACAvB,UAAAA,MAAM,CAACC,WAAP,CAAmBC,UAAnB;AACD,SAHD,MAGO,IAAIuB,aAAa,CAACX,QAAd,CAAuB,eAAvB,CAAJ,EAA6C;AAClDG,UAAAA,CAAC,CAACM,cAAF;AACAvB,UAAAA,MAAM,CAACU,aAAP;AACAV,UAAAA,MAAM,CAACC,WAAP,CAAmBC,UAAnB;AACD;AACF;AACF;AACF,GArBD;AAsBAG,EAAAA,QAAQ,CAACW,gBAAT,CAA0B,SAA1B,EAAqC,UAACU,GAAD,EAAS;AAC5CA,IAAAA,GAAG,GAAGA,GAAG,IAAI1B,MAAM,CAAC2B,KAApB;AACA,QAAIC,GAAG,GAAGF,GAAG,CAACE,GAAJ,IAAWF,GAAG,CAACG,OAAzB;;AACA,QAAID,GAAG,KAAK,QAAR,IAAoBA,GAAG,KAAK,KAA5B,IAAqCA,GAAG,KAAK,EAAjD,EAAqD;AACnD5B,MAAAA,MAAM,CAACU,aAAP;AACD;AACF,GAND;AAOD,CA9BD","sourcesContent":["window.toggleModal = (modalClass) => {\n  const modalIdentifier = `[data-modal-class=${modalClass}]`\n  const body = document.querySelector(\"body\")\n  const modal = document.querySelector(modalIdentifier)\n  modal.classList.toggle(\"opacity-0\")\n  modal.classList.toggle(\"pointer-events-none\")\n  body.classList.toggle(\"modal-active\")\n}\nwindow.closeAllModal = () => {\n  document.body.classList.remove(\"modal-active\")\n  document.querySelectorAll(\".modal\").forEach((modal) => {\n    if (!modal.classList.contains(\"opacity-0\")) {\n      modal.classList.add(\"opacity-0\")\n      modal.classList.add(\"pointer-events-none\")\n    }\n  })\n}\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  document.addEventListener(\"click\", (e) => {\n    if (e.target) {\n      var classes = e.target.classList\n      const modalElm = e.target.closest(\"[data-modal-class]\")\n      if (!modalElm) { return }\n      const modalClass = modalElm.getAttribute(\"data-modal-class\")\n      if (classes.contains(\"js-modal-overlay\")) {\n        e.preventDefault()\n        window.toggleModal(modalClass)\n      } else if (e.target.parentElement) {\n        var parentClasses = e.target.parentElement.classList\n        if (parentClasses.contains(\"js-modal-close\")) {\n          e.preventDefault()\n          window.toggleModal(modalClass)\n        } else if (parentClasses.contains(\"js-modal-open\")) {\n          e.preventDefault()\n          window.closeAllModal()\n          window.toggleModal(modalClass)\n        }\n      }\n    }\n  })\n  document.addEventListener(\"keydown\", (evt) => {\n    evt = evt || window.event\n    var key = evt.key || evt.keyCode\n    if (key === \"Escape\" || key === \"Esc\" || key === 27) {\n      window.closeAllModal()\n    }\n  })\n})"]},"metadata":{},"sourceType":"module"}